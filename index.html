<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scapia FPL Weekly Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --scapia-orange: #FF6B35;
            --scapia-dark: #1A1A2E;
            --scapia-navy: #16213E;
            --scapia-accent: #0F3460;
            --scapia-gold: #FFD700;
            --scapia-silver: #C0C0C0;
            --scapia-bronze: #CD7F32;
            --success: #48bb78;
            --danger: #e53e3e;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--scapia-dark) 0%, var(--scapia-navy) 50%, var(--scapia-accent) 100%);
            min-height: 100vh;
            color: #fff;
            padding: 15px;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--scapia-orange);
            text-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
        }
        
        .tagline {
            color: #a0aec0;
            font-style: italic;
            margin-top: 5px;
        }
        
        .gw-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            overflow-x: auto;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
        }
        
        .gw-btn {
            padding: 10px 18px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .gw-btn:hover {
            background: rgba(255, 107, 53, 0.2);
            transform: translateY(-2px);
        }
        
        .gw-btn.active {
            background: var(--scapia-orange);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }
        
        .tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 25px;
        }
        
        .tab {
            flex: 1;
            padding: 12px;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 600;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .tab.active {
            background: var(--scapia-orange);
            color: white;
        }
        
        .content {
            display: none;
        }
        
        .content.active {
            display: block;
        }
        
        .prize-card {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(255, 107, 53, 0.1));
            border: 1px solid var(--scapia-orange);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .pool-amount {
            font-size: 2.8rem;
            font-weight: 900;
            color: var(--scapia-orange);
            text-shadow: 0 0 25px rgba(255, 107, 53, 0.5);
        }
        
        .pool-info {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        
        .info-item {
            text-align: center;
        }
        
        .info-value {
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .info-label {
            font-size: 0.8rem;
            color: #a0aec0;
        }
        
        .prizes {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .prize {
            text-align: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .prize-emoji {
            font-size: 1.5rem;
        }
        
        .prize-amount {
            font-weight: 700;
            margin-top: 5px;
        }
        
        .leaderboard {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            padding: 20px;
        }
        
        .player-row {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            transition: all 0.3s;
        }
        
        .player-row:hover {
            transform: translateX(5px);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .rank {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-weight: 900;
            margin-right: 15px;
        }
        
        .rank-1 {
            background: linear-gradient(135deg, var(--scapia-gold), #ffed4e);
            color: #000;
        }
        
        .rank-2 {
            background: linear-gradient(135deg, var(--scapia-silver), #d7d7d7);
            color: #000;
        }
        
        .rank-3 {
            background: linear-gradient(135deg, var(--scapia-bronze), #e6ac79);
            color: #000;
        }
        
        .rank-other {
            background: rgba(255, 107, 53, 0.2);
            border: 1px solid var(--scapia-orange);
        }
        
        .player-info {
            flex: 1;
        }
        
        .player-name {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .player-captain {
            font-size: 0.8rem;
            color: #a0aec0;
        }
        
        .score-prize {
            text-align: right;
        }
        
        .score {
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .prize-won {
            color: var(--success);
            font-weight: 600;
        }
        
        .standing-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .standing-player {
            flex: 1;
        }
        
        .standing-name {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .standing-stats {
            font-size: 0.85rem;
            color: #a0aec0;
        }
        
        .standing-earnings {
            text-align: right;
        }
        
        .net-amount {
            font-size: 1.4rem;
            font-weight: 900;
        }
        
        .positive {
            color: var(--success);
        }
        
        .negative {
            color: var(--danger);
        }
        
        .badge-list {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            margin-top: 8px;
        }
        
        .badge {
            padding: 3px 8px;
            background: rgba(255, 107, 53, 0.2);
            border: 1px solid var(--scapia-orange);
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .stats-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .stat-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--scapia-orange);
            margin-bottom: 15px;
        }
        
        .award {
            padding: 12px;
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(255, 107, 53, 0.05));
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .award-info {
            flex: 1;
        }
        
        .award-title {
            font-weight: 700;
            color: var(--scapia-orange);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .award-desc {
            font-size: 0.85rem;
            color: #a0aec0;
            font-style: italic;
        }
        
        .award-winner {
            font-weight: 600;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">‚úàÔ∏è SCAPIA FPL</div>
            <div class="tagline">Where every gameweek is a new journey</div>
        </div>

        <div class="gw-selector">
            <button class="gw-btn" onclick="showGW(2)">GW 2</button>
            <button class="gw-btn" onclick="showGW(3)">GW 3</button>
            <button class="gw-btn" onclick="showGW(4)">GW 4</button>
            <button class="gw-btn" onclick="showGW(5)">GW 5</button>
            <button class="gw-btn" onclick="showGW(6)">GW 6</button>
            <button class="gw-btn" onclick="showGW(7)">GW 7</button>
            <button class="gw-btn active" onclick="showGW(8)">GW 8</button>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('battle')">‚öîÔ∏è Battle</button>
            <button class="tab" onclick="showTab('standings')">üèÜ Standings</button>
            <button class="tab" onclick="showTab('stats')">üìä Stats</button>
        </div>

        <!-- Battle Tab -->
        <div id="battle" class="content active">
            <div class="prize-card">
                <div class="pool-amount">‚Çπ<span id="poolAmount">1700</span></div>
                <div class="pool-info">
                    <div class="info-item">
                        <div class="info-value" id="playerCount">17</div>
                        <div class="info-label">Warriors</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value">‚Çπ100</div>
                        <div class="info-label">Entry</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value">GW<span id="currentGW">8</span></div>
                        <div class="info-label">Battle</div>
                    </div>
                </div>
                <div class="prizes" id="prizeList"></div>
            </div>
            <div class="leaderboard" id="leaderboard"></div>
        </div>

        <!-- Standings Tab -->
        <div id="standings" class="content">
            <div id="standingsList"></div>
        </div>

        <!-- Stats Tab -->
        <div id="stats" class="content">
            <div class="stats-section">
                <div class="stat-title">üèÜ Performance Awards</div>
                <div id="performanceAwards"></div>
            </div>
            <div class="stats-section">
                <div class="stat-title">üòÇ Hall of Fame & Shame</div>
                <div id="funAwards"></div>
            </div>
        </div>
    </div>

    <script>
        // Complete game data
        const gameData = {
            2: {
                players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Raghu', 'Mayank', 'Puneet'],
                pool: 1100,
                prizes: [600, 400, 100],
                results: [
                    { name: 'Neeraj', score: 61, captain: 'Salah', prize: 600 },
                    { name: 'Puneet', score: 56, captain: 'Ekitik√©', prize: 400 },
                    { name: 'Gokul', score: 53, captain: 'Haaland', prize: 100 },
                    { name: 'Sukhpal', score: 49, captain: 'Saka', prize: 0 },
                    { name: 'Shubs', score: 48, captain: 'Salah', prize: 0 },
                    { name: 'Mayank', score: 42, captain: 'Haaland', prize: 0 },
                    { name: 'Shashank', score: 42, captain: 'Semenyo', prize: 0 },
                    { name: 'Raghu', score: 41, captain: 'Haaland', prize: 0 },
                    { name: 'Bharath', score: 38, captain: 'Salah', prize: 0 },
                    { name: 'Venky', score: 37, captain: 'Haaland', prize: 0 },
                    { name: 'Sandesh', score: 29, captain: '√òdegaard', prize: 0 }
                ]
            },
            3: {
                players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh'],
                pool: 1400,
                prizes: [700, 400, 200, 100],
                results: [
                    { name: 'Sandesh', score: 83, captain: 'Jo√£o Pedro', prize: 700 },
                    { name: 'Shashank', score: 67, captain: 'Mbeumo', prize: 400 },
                    { name: 'Raghu', score: 64, captain: 'Haaland', prize: 150 },
                    { name: 'Sarjan', score: 64, captain: 'Jo√£o Pedro', prize: 150 },
                    { name: 'Gokul', score: 63, captain: 'Haaland', prize: 0 },
                    { name: 'Bharath', score: 58, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Venky', score: 54, captain: 'Haaland', prize: 0 },
                    { name: 'Neeraj', score: 53, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Mayank', score: 52, captain: 'Haaland', prize: 0 },
                    { name: 'Sukhpal', score: 44, captain: 'Wood', prize: 0 },
                    { name: 'Aniruddh', score: 43, captain: 'Wood', prize: 0 },
                    { name: 'Puneet', score: 40, captain: 'Haaland', prize: 0 },
                    { name: 'Shubs', score: 37, captain: 'Wood', prize: 0 },
                    { name: 'Rounak', score: 27, captain: 'Wood', prize: 0 }
                ]
            },
            4: {
                players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam'],
                pool: 1500,
                prizes: [700, 450, 250, 100],
                results: [
                    { name: 'Venky', score: 77, captain: 'Salah', prize: 700 },
                    { name: 'Raghu', score: 73, captain: 'Haaland', prize: 450 },
                    { name: 'Sukhpal', score: 69, captain: 'Haaland', prize: 250 },
                    { name: 'Puneet', score: 66, captain: 'Haaland', prize: 100 },
                    { name: 'Arindam', score: 65, captain: 'Haaland', prize: 0 },
                    { name: 'Sandesh', score: 63, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Rounak', score: 63, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Aniruddh', score: 63, captain: 'Haaland', prize: 0 },
                    { name: 'Neeraj', score: 62, captain: 'Salah', prize: 0 },
                    { name: 'Sarjan', score: 60, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Shashank', score: 58, captain: 'Salah', prize: 0 },
                    { name: 'Shubs', score: 55, captain: 'Salah', prize: 0 },
                    { name: 'Gokul', score: 53, captain: 'Kudus', prize: 0 },
                    { name: 'Mayank', score: 46, captain: 'Haaland', prize: 0 },
                    { name: 'Bharath', score: 41, captain: 'Ekitik√©', prize: 0 }
                ]
            },
            5: {
                players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam'],
                pool: 1500,
                prizes: [500, 400, 300, 200, 100],
                results: [
                    { name: 'Mayank', score: 63, captain: 'Haaland', prize: 500 },
                    { name: 'Puneet', score: 61, captain: 'Haaland', prize: 400 },
                    { name: 'Raghu', score: 60, captain: 'Haaland', prize: 300 },
                    { name: 'Bharath', score: 57, captain: 'Ekitik√©', prize: 200 },
                    { name: 'Aniruddh', score: 55, captain: 'Haaland', prize: 100 },
                    { name: 'Venky', score: 51, captain: 'Salah', prize: 0 },
                    { name: 'Sukhpal', score: 49, captain: 'Haaland', prize: 0 },
                    { name: 'Neeraj', score: 47, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Arindam', score: 47, captain: 'Haaland', prize: 0 },
                    { name: 'Shashank', score: 44, captain: 'Salah', prize: 0 },
                    { name: 'Sarjan', score: 44, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Gokul', score: 43, captain: 'Kudus', prize: 0 },
                    { name: 'Sandesh', score: 40, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Shubs', score: 39, captain: 'Salah', prize: 0 },
                    { name: 'Rounak', score: 38, captain: 'Jo√£o Pedro', prize: 0 }
                ]
            },
            6: {
                players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam', 'Sagar', 'Jalaj'],
                pool: 1700,
                prizes: [600, 400, 300, 250, 150],
                results: [
                    { name: 'Gokul', score: 68, captain: 'Haaland', prize: 600 },
                    { name: 'Mayank', score: 65, captain: 'Haaland', prize: 400 },
                    { name: 'Sukhpal', score: 64, captain: 'Haaland', prize: 300 },
                    { name: 'Aniruddh', score: 59, captain: 'Haaland', prize: 250 },
                    { name: 'Rounak', score: 57, captain: 'Haaland', prize: 150 },
                    { name: 'Raghu', score: 56, captain: 'Haaland', prize: 0 },
                    { name: 'Shubs', score: 56, captain: 'Haaland', prize: 0 },
                    { name: 'Sagar', score: 55, captain: 'Haaland', prize: 0 },
                    { name: 'Puneet', score: 49, captain: 'Haaland', prize: 0 },
                    { name: 'Venky', score: 48, captain: 'Haaland', prize: 0 },
                    { name: 'Sandesh', score: 46, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Shashank', score: 39, captain: 'Salah', prize: 0 },
                    { name: 'Sarjan', score: 29, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Neeraj', score: 27, captain: 'Richarlison', prize: 0 },
                    { name: 'Jalaj', score: 26, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Bharath', score: 24, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Arindam', score: 18, captain: 'Haaland', prize: 0 }
                ]
            },
            7: {
                players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam', 'Sagar', 'Jalaj'],
                pool: 1700,
                prizes: [600, 400, 300, 250, 150],
                results: [
                    { name: 'Gokul', score: 95, captain: 'Haaland', prize: 600 },
                    { name: 'Bharath', score: 83, captain: 'Haaland', prize: 400 },
                    { name: 'Rounak', score: 77, captain: 'Haaland', prize: 300 },
                    { name: 'Neeraj', score: 74, captain: 'Haaland', prize: 200 },
                    { name: 'Aniruddh', score: 74, captain: 'Haaland', prize: 200 },
                    { name: 'Puneet', score: 71, captain: 'Haaland', prize: 0 },
                    { name: 'Sukhpal', score: 71, captain: 'Haaland', prize: 0 },
                    { name: 'Arindam', score: 70, captain: 'Haaland', prize: 0 },
                    { name: 'Shubs', score: 69, captain: 'Haaland', prize: 0 },
                    { name: 'Shashank', score: 68, captain: 'Mbeumo', prize: 0 },
                    { name: 'Mayank', score: 66, captain: 'Haaland', prize: 0 },
                    { name: 'Sagar', score: 65, captain: 'Haaland', prize: 0 },
                    { name: 'Venky', score: 55, captain: 'Haaland', prize: 0 },
                    { name: 'Raghu', score: 50, captain: 'Haaland', prize: 0 },
                    { name: 'Jalaj', score: 48, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Sandesh', score: 47, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Sarjan', score: 41, captain: 'Jo√£o Pedro', prize: 0 }
                ]
            },
            8: {
                players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam', 'Sagar', 'Jalaj'],
                pool: 1700,
                prizes: [600, 400, 300, 250, 150],
                results: [
                    { name: 'Bharath', score: 90, captain: 'Haaland', prize: 600 },
                    { name: 'Sukhpal', score: 81, captain: 'Haaland', prize: 400 },
                    { name: 'Mayank', score: 80, captain: 'Haaland (TC)', prize: 275 },
                    { name: 'Gokul', score: 80, captain: 'Haaland', prize: 275 },
                    { name: 'Aniruddh', score: 72, captain: 'Haaland', prize: 150 },
                    { name: 'Neeraj', score: 69, captain: 'Haaland', prize: 0 },
                    { name: 'Rounak', score: 68, captain: 'Haaland', prize: 0 },
                    { name: 'Sandesh', score: 68, captain: 'Jo√£o Pedro (FH)', prize: 0 },
                    { name: 'Shubs', score: 64, captain: 'Haaland', prize: 0 },
                    { name: 'Raghu', score: 63, captain: 'Haaland (WC)', prize: 0 },
                    { name: 'Puneet', score: 60, captain: 'Haaland', prize: 0 },
                    { name: 'Venky', score: 54, captain: 'Haaland', prize: 0 },
                    { name: 'Arindam', score: 50, captain: 'Haaland', prize: 0 },
                    { name: 'Shashank', score: 46, captain: 'Semenyo', prize: 0 },
                    { name: 'Sagar', score: 44, captain: 'Haaland', prize: 0 },
                    { name: 'Sarjan', score: 42, captain: 'Jo√£o Pedro', prize: 0 },
                    { name: 'Jalaj', score: 37, captain: 'Jo√£o Pedro', prize: 0 }
                ]
            }
        };

        let currentGW = 8;

        function showGW(gw) {
            currentGW = gw;
            document.querySelectorAll('.gw-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            updateBattle();
        }

        function showTab(tab) {
            document.querySelectorAll('.tab').forEach(t => {
                t.classList.remove('active');
            });
            event.target.classList.add('active');
            
            document.querySelectorAll('.content').forEach(c => {
                c.classList.remove('active');
            });
            document.getElementById(tab).classList.add('active');
            
            if (tab === 'standings') updateStandings();
            if (tab === 'stats') updateStats();
        }

        function updateBattle() {
            const data = gameData[currentGW];
            
            document.getElementById('poolAmount').textContent = data.pool;
            document.getElementById('playerCount').textContent = data.players.length;
            document.getElementById('currentGW').textContent = currentGW;
            
            // Update prizes
            const medals = ['ü•á', 'ü•à', 'ü•â', 'üéñÔ∏è', 'üèÖ'];
            const prizeHTML = data.prizes.map((prize, i) => `
                <div class="prize">
                    <div class="prize-emoji">${medals[i]}</div>
                    <div class="prize-amount">‚Çπ${prize}</div>
                </div>
            `).join('');
            document.getElementById('prizeList').innerHTML = prizeHTML;
            
            // Update leaderboard
            const leaderboardHTML = data.results.map((player, i) => {
                const rank = i + 1;
                let rankClass = rank <= 3 ? `rank-${rank}` : (player.prize > 0 ? 'rank-other' : '');
                let rankDisplay = rank <= 5 && player.prize > 0 ? medals[rank-1] : rank;
                
                return `
                    <div class="player-row">
                        <div class="rank ${rankClass}">${rankDisplay}</div>
                        <div class="player-info">
                            <div class="player-name">${player.name}</div>
                            <div class="player-captain">‚ö° ${player.captain}</div>
                        </div>
                        <div class="score-prize">
                            <div class="score">${player.score}</div>
                            ${player.prize > 0 ? `<div class="prize-won">+‚Çπ${player.prize}</div>` : ''}
                        </div>
                    </div>
                `;
            }).join('');
            document.getElementById('leaderboard').innerHTML = leaderboardHTML;
        }

        function updateStandings() {
            const earnings = {};
            
            // Calculate net earnings
            Object.values(gameData).forEach(gw => {
                gw.results.forEach(result => {
                    if (gw.players.includes(result.name)) {
                        if (!earnings[result.name]) {
                            earnings[result.name] = { won: 0, played: 0, wins: [] };
                        }
                        earnings[result.name].played++;
                        if (result.prize > 0) {
                            earnings[result.name].won += result.prize;
                            earnings[result.name].wins.push(gw);
                        }
                    }
                });
            });
            
            // Calculate net and sort
            const standings = Object.entries(earnings).map(([name, data]) => ({
                name,
                net: data.won - (data.played * 100),
                won: data.won,
                played: data.played,
                wins: data.wins
            })).sort((a, b) => b.net - a.net);
            
            const standingsHTML = standings.map(player => `
                <div class="standing-card">
                    <div class="standing-player">
                        <div class="standing-name">${player.name}</div>
                        <div class="standing-stats">
                            üéÆ ${player.played} games | üí∞ ‚Çπ${player.played * 100} locked | Won: ‚Çπ${player.won}
                        </div>
                    </div>
                    <div class="standing-earnings">
                        <div class="net-amount ${player.net >= 0 ? 'positive' : 'negative'}">
                            ${player.net >= 0 ? '+' : ''}‚Çπ${Math.abs(player.net)}
                        </div>
                    </div>
                </div>
            `).join('');
            document.getElementById('standingsList').innerHTML = standingsHTML;
        }

        function updateStats() {
            // Calculate comprehensive stats
            const playerStats = {};
            Object.values(gameData).forEach(gw => {
                gw.results.forEach((result, index) => {
                    if (gw.players.includes(result.name)) {
                        if (!playerStats[result.name]) {
                            playerStats[result.name] = { 
                                games: 0, wins: 0, podiums: 0, scores: [], positions: [], earnings: 0 
                            };
                        }
                        playerStats[result.name].games++;
                        playerStats[result.name].scores.push(result.score);
                        playerStats[result.name].positions.push(index + 1);
                        if (index === 0) playerStats[result.name].wins++;
                        if (index < 3) playerStats[result.name].podiums++;
                        if (result.prize > 0) playerStats[result.name].earnings += result.prize;
                    }
                });
            });
            
            // Calculate trends and movements
            const calculateTrend = (positions) => {
                if (positions.length < 3) return 0;
                const recent3 = positions.slice(-3);
                const earlier3 = positions.slice(-6, -3);
                if (earlier3.length === 0) return 0;
                const recentAvg = recent3.reduce((a,b) => a+b, 0) / recent3.length;
                const earlierAvg = earlier3.reduce((a,b) => a+b, 0) / earlier3.length;
                return earlierAvg - recentAvg; // Positive = improving
            };

            // Find best resurrection story
            const findResurrection = () => {
                const candidates = Object.entries(playerStats).filter(([_, s]) => s.games >= 6).map(([name, stats]) => {
                    const worst = Math.max(...stats.positions);
                    const worstIndex = stats.positions.lastIndexOf(worst);
                    if (worstIndex >= stats.positions.length - 2) return [name, {...stats, score: 0}];
                    const afterWorst = stats.positions.slice(worstIndex + 1);
                    const improvement = worst - (afterWorst.reduce((a,b) => a+b, 0) / afterWorst.length);
                    return [name, {...stats, score: improvement, worst, afterWorst: afterWorst.length}];
                });
                return candidates.sort((a, b) => b[1].score - a[1].score)[0];
            };

            // Find peak performance
            const peakPerformance = Object.entries(playerStats).map(([name, stats]) => {
                const maxScore = Math.max(...stats.scores);
                return [name, {...stats, maxScore}];
            }).sort((a, b) => b[1].maxScore - a[1].maxScore)[0];

            // Performance Awards
            const performanceAwards = [
                {
                    title: 'King of the League',
                    emoji: 'üëë',
                    desc: 'Most victories - the champion',
                    winner: Object.entries(playerStats).sort((a, b) => b[1].wins - a[1].wins)[0]
                },
                {
                    title: 'Resurrection Master',
                    emoji: 'üî•',
                    desc: 'Ultimate comeback from disaster',
                    winner: findResurrection()
                },
                {
                    title: 'Peak Performance',
                    emoji: '‚õ∞Ô∏è',
                    desc: 'Highest single GW score',
                    winner: peakPerformance
                },
                {
                    title: 'Mr. Reliable',
                    emoji: 'üéØ',
                    desc: 'Most consistent positions',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.games >= 5).map(([name, stats]) => {
                        const avg = stats.positions.reduce((a,b) => a+b, 0) / stats.positions.length;
                        const variance = stats.positions.reduce((sum, pos) => sum + Math.pow(pos - avg, 2), 0) / stats.positions.length;
                        return [name, {...stats, variance}];
                    }).sort((a, b) => a[1].variance - b[1].variance)[0]
                },
                {
                    title: 'Prize Magnet',
                    emoji: 'üéñÔ∏è',
                    desc: 'Most top-5 finishes',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.games >= 5).map(([name, stats]) => {
                        const prizeCount = stats.positions.filter(p => p <= 5).length;
                        return [name, {...stats, prizeCount}];
                    }).sort((a, b) => b[1].prizeCount - a[1].prizeCount)[0]
                },
                {
                    title: 'Form Horse',
                    emoji: 'üêé',
                    desc: 'On fire right now (L3 avg)',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.games >= 3).map(([name, stats]) => {
                        const recent3 = stats.positions.slice(-3);
                        const avgRecent = recent3.reduce((a,b) => a+b, 0) / recent3.length;
                        return [name, {...stats, avgRecent}];
                    }).sort((a, b) => a[1].avgRecent - b[1].avgRecent)[0]
                }
            ];
            
            // Fun Awards - Story-driven badges
            const funAwards = [
                {
                    title: 'Phoenix Rising',
                    emoji: 'üî•',
                    desc: 'From ashes to glory - epic turnaround',
                    winner: ['Bharath', playerStats['Bharath']]
                },
                {
                    title: 'Differential Genius',
                    emoji: 'üß†',
                    desc: 'Brave captains against the template',
                    winner: ['Shashank', playerStats['Shashank']]
                },
                {
                    title: 'The Fader',
                    emoji: 'üìâ',
                    desc: 'Started strong, momentum fading',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.games >= 5).map(([name, stats]) => {
                        const firstHalf = stats.positions.slice(0, Math.floor(stats.games/2));
                        const secondHalf = stats.positions.slice(Math.floor(stats.games/2));
                        const decline = (secondHalf.reduce((a,b) => a+b, 0) / secondHalf.length) - 
                                       (firstHalf.reduce((a,b) => a+b, 0) / firstHalf.length);
                        return [name, {...stats, decline}];
                    }).sort((a, b) => b[1].decline - a[1].decline)[0]
                },
                {
                    title: 'So Close Yet So Far',
                    emoji: 'üò´',
                    desc: 'Multiple top-6 without winning',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.wins === 0 && s.games >= 5).map(([name, stats]) => {
                        const nearMisses = stats.positions.filter(p => p <= 6).length;
                        return [name, {...stats, nearMisses}];
                    }).sort((a, b) => b[1].nearMisses - a[1].nearMisses)[0]
                },
                {
                    title: 'Wildcard Warrior',
                    emoji: 'üé∞',
                    desc: 'Most unpredictable week-to-week',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.games >= 5).map(([name, stats]) => {
                        const swings = [];
                        for (let i = 1; i < stats.positions.length; i++) {
                            swings.push(Math.abs(stats.positions[i] - stats.positions[i-1]));
                        }
                        const avgSwing = swings.reduce((a,b) => a+b, 0) / swings.length;
                        return [name, {...stats, avgSwing}];
                    }).sort((a, b) => b[1].avgSwing - a[1].avgSwing)[0]
                },
                {
                    title: 'Early Peak Syndrome',
                    emoji: 'üí´',
                    desc: 'Chasing that first high',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.games >= 5).map(([name, stats]) => {
                        const bestPos = Math.min(...stats.positions);
                        const bestIndex = stats.positions.indexOf(bestPos);
                        if (bestIndex >= stats.positions.length - 2) return [name, {...stats, score: 0}];
                        const afterBest = stats.positions.slice(bestIndex + 1);
                        const decline = afterBest.reduce((a,b) => a+b, 0) / afterBest.length - bestPos;
                        return [name, {...stats, score: bestPos === 1 ? decline * 2 : decline}];
                    }).sort((a, b) => b[1].score - a[1].score)[0]
                },
                {
                    title: 'Late Bloomer',
                    emoji: 'üå±',
                    desc: 'Getting better with time',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.games >= 5).map(([name, stats]) => {
                        const firstHalf = stats.positions.slice(0, Math.floor(stats.games/2));
                        const secondHalf = stats.positions.slice(Math.floor(stats.games/2));
                        const improvement = (firstHalf.reduce((a,b) => a+b, 0) / firstHalf.length) - 
                                           (secondHalf.reduce((a,b) => a+b, 0) / secondHalf.length);
                        return [name, {...stats, improvement}];
                    }).sort((a, b) => b[1].improvement - a[1].improvement)[0]
                },
                {
                    title: 'Template Prisoner',
                    emoji: 'üêë',
                    desc: 'Following the crowd to nowhere',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.games >= 5 && s.wins === 0).map(([name, stats]) => {
                        const bottom = stats.positions.filter(p => p > 10).length;
                        return [name, {...stats, bottom}];
                    }).sort((a, b) => b[1].bottom - a[1].bottom)[0]
                },
                {
                    title: 'Mid-Table Merchant',
                    emoji: '‚öôÔ∏è',
                    desc: 'Safely average, never spectacular',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.games >= 5).map(([name, stats]) => {
                        const midTable = stats.positions.filter(p => p >= 6 && p <= 11).length;
                        const rate = midTable / stats.games;
                        return [name, {...stats, rate, midTable}];
                    }).sort((a, b) => b[1].rate - a[1].rate)[0]
                },
                {
                    title: 'Generous Donor',
                    emoji: 'üí∏',
                    desc: 'Funding everyone else\'s success',
                    winner: Object.entries(playerStats).filter(([_, s]) => s.earnings === 0 && s.games >= 5)
                        .sort((a, b) => b[1].games - a[1].games)[0]
                }
            ].filter(award => award.winner && award.winner[1]);
            
            const performanceHTML = performanceAwards.filter(a => a.winner).map(award => {
                const [name] = award.winner;
                return `
                    <div class="award">
                        <div class="award-info">
                            <div class="award-title">${award.emoji} ${award.title}</div>
                            <div class="award-desc">${award.desc}</div>
                        </div>
                        <div class="award-winner">${name}</div>
                    </div>
                `;
            }).join('');
            
            const funHTML = funAwards.filter(a => a.winner).map(award => {
                const [name] = award.winner;
                return `
                    <div class="award">
                        <div class="award-info">
                            <div class="award-title">${award.emoji} ${award.title}</div>
                            <div class="award-desc">${award.desc}</div>
                        </div>
                        <div class="award-winner">${name}</div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('performanceAwards').innerHTML = performanceHTML;
            document.getElementById('funAwards').innerHTML = funHTML;
        }

        // Initialize
        updateBattle();
    </script>
</body>
</html>
