<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scapia FPL Weekly Tracker</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --scapia-orange: #FF6B35;
            --scapia-dark: #1A1A2E;
            --scapia-navy: #16213E;
            --scapia-accent: #0F3460;
            --scapia-gold: #FFD700;
            --scapia-silver: #C0C0C0;
            --scapia-bronze: #CD7F32;
            --success: #48bb78;
            --danger: #e53e3e;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--scapia-dark) 0%, var(--scapia-navy) 50%, var(--scapia-accent) 100%);
            min-height: 100vh;
            color: #fff;
            padding: 15px;
        }
        .container { max-width: 550px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 30px; }
        .logo { font-size: 2.5rem; font-weight: 900; color: var(--scapia-orange); text-shadow: 0 0 20px rgba(255, 107, 53, 0.5); }
        .tagline { color: #a0aec0; font-style: italic; margin-top: 5px; }
        
        .gw-selector { display: flex; gap: 8px; margin-bottom: 25px; overflow-x: auto; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 15px; scrollbar-width: none; }
        .gw-selector::-webkit-scrollbar { display: none; }
        .gw-btn { padding: 8px 14px; min-width: 60px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: #fff; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s; white-space: nowrap; font-size: 0.9rem; }
        .gw-btn:hover { background: rgba(255, 107, 53, 0.2); transform: translateY(-2px); }
        .gw-btn.active { background: var(--scapia-orange); box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3); }
        
        .tabs { display: flex; background: rgba(255, 255, 255, 0.05); border-radius: 12px; padding: 4px; margin-bottom: 25px; }
        .tab { flex: 1; padding: 12px; background: transparent; border: none; color: rgba(255, 255, 255, 0.7); font-weight: 600; cursor: pointer; border-radius: 8px; transition: all 0.3s; }
        .tab.active { background: var(--scapia-orange); color: white; }
        .content { display: none; }
        .content.active { display: block; }
        
        /* Cards */
        .prize-card { background: linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(255, 107, 53, 0.1)); border: 1px solid var(--scapia-orange); border-radius: 20px; padding: 25px; margin-bottom: 25px; text-align: center; position: relative; overflow: hidden; }
        .spotlight-card { background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 107, 53, 0.15)); border: 2px solid var(--scapia-orange); border-radius: 20px; padding: 20px; margin-bottom: 25px; position: relative; overflow: hidden; text-align: center; }
        .spotlight-title { font-size: 1.3rem; font-weight: 900; color: var(--scapia-orange); margin-bottom: 12px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .spotlight-story { font-size: 1rem; line-height: 1.6; color: #e0e0e0; }
        .highlight { color: var(--scapia-orange); font-weight: 700; }
        
        .pool-amount { font-size: 2.8rem; font-weight: 900; color: var(--scapia-orange); text-shadow: 0 0 25px rgba(255, 107, 53, 0.5); }
        .pool-info { display: flex; justify-content: space-around; margin: 20px 0; }
        .info-item { text-align: center; }
        .info-value { font-size: 1.3rem; font-weight: 700; }
        .info-label { font-size: 0.8rem; color: #a0aec0; }
        
        .prizes { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 10px; }
        .prize { text-align: center; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 10px; }
        .prize-amount { font-weight: 700; margin-top: 5px; }
        
        /* Leaderboard */
        .leaderboard { background: rgba(255, 255, 255, 0.03); border-radius: 15px; padding: 20px; margin-bottom: 15px; }
        .player-row { display: flex; align-items: center; padding: 15px; margin-bottom: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; transition: all 0.3s; position: relative; }
        .player-row.winner { background: linear-gradient(90deg, rgba(255, 215, 0, 0.2), rgba(255, 107, 53, 0.1)); border-left: 3px solid var(--scapia-gold); }
        .rank { width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; font-weight: 900; margin-right: 15px; }
        .rank-1 { background: linear-gradient(135deg, var(--scapia-gold), #ffed4e); color: #000; }
        .rank-2 { background: linear-gradient(135deg, var(--scapia-silver), #d7d7d7); color: #000; }
        .rank-3 { background: linear-gradient(135deg, var(--scapia-bronze), #e6ac79); color: #000; }
        .rank-other { background: rgba(255, 107, 53, 0.2); border: 1px solid var(--scapia-orange); }
        .player-info { flex: 1; }
        .player-name { font-weight: 600; font-size: 1.1rem; display: flex; align-items: center; gap: 6px; }
        .player-captain { font-size: 0.8rem; color: #a0aec0; }
        .score-prize { text-align: right; }
        .score { font-size: 1.3rem; font-weight: 700; }
        .prize-won { color: var(--success); font-weight: 600; }

        /* Story Cards - Enriched */
        .player-story-card { background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(15, 52, 96, 0.2)); border: 1px solid rgba(255, 107, 53, 0.3); border-radius: 15px; padding: 0; margin-bottom: 25px; position: relative; overflow: hidden; display: flex; flex-direction: column; }
        
        .story-header-section { padding: 20px; position: relative; z-index: 2; display: flex; gap: 15px; align-items: flex-start; }
        .avatar-container { width: 70px; height: 70px; border-radius: 50%; overflow: hidden; border: 2px solid var(--scapia-orange); flex-shrink: 0; background: #000; }
        .avatar-img { width: 100%; height: 100%; object-fit: cover; }
        .header-info { flex: 1; }
        
        .story-player { font-size: 1.3rem; font-weight: 800; color: #fff; margin-bottom: 2px; }
        .manager-nick { font-size: 0.9rem; color: var(--scapia-orange); font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }
        .character-ref { font-size: 0.75rem; color: #a0aec0; font-style: italic; margin-top: 2px; }
        
        .wallet-pill { font-size: 0.75rem; font-weight: 700; padding: 3px 8px; border-radius: 6px; background: rgba(0,0,0,0.4); display: inline-block; margin-top: 5px; }
        .in-profit { color: var(--success); border: 1px solid var(--success); }
        .in-loss { color: var(--danger); border: 1px solid var(--danger); }
        
        .story-content { padding: 0 20px 20px 20px; }
        
        .story-quote { font-family: 'Georgia', serif; font-style: italic; font-size: 0.95rem; color: #fff; opacity: 0.9; background: rgba(255, 255, 255, 0.05); padding: 12px; border-left: 3px solid var(--scapia-orange); margin-bottom: 15px; border-radius: 0 8px 8px 0; }
        
        .story-section { margin-top: 15px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.1); }
        .story-label { font-size: 0.7rem; text-transform: uppercase; color: var(--scapia-orange); letter-spacing: 1px; margin-bottom: 6px; font-weight: 700; opacity: 0.8; }
        .story-text { font-size: 0.9rem; line-height: 1.5; color: #e0e0e0; }

        .scout-report { margin-top: 15px; background: rgba(0,0,0,0.2); padding: 12px; border-radius: 8px; }
        .stat-row { display: flex; align-items: center; margin-bottom: 6px; }
        .stat-label { width: 90px; font-size: 0.75rem; color: #a0aec0; }
        .stat-track { flex: 1; height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; overflow: hidden; }
        .stat-val { height: 100%; border-radius: 3px; }
        .stat-val.template { background: #3b82f6; }
        .stat-val.form { background: #48bb78; }
        .stat-val.volatility { background: #e53e3e; }
        .stat-number { width: 35px; text-align: right; font-size: 0.75rem; font-weight: 700; margin-left: 8px; }

        /* Banter & Other */
        .banter-section { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 25px; }
        .banter-card { background: rgba(0,0,0,0.3); border-radius: 12px; padding: 12px; }
        .banter-title { font-weight: 700; margin-bottom: 4px; }
        .banter-roast .banter-title { color: var(--danger); }
        .banter-compliment .banter-title { color: var(--success); }
        
        .stats-section { background: rgba(255, 255, 255, 0.05); border-radius: 15px; padding: 20px; margin-bottom: 20px; }
        .stat-title { font-size: 1.2rem; font-weight: 700; color: var(--scapia-orange); margin-bottom: 15px; }
        
        /* Rivalries & Lore */
        .rivalry-card { padding: 15px; background: linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,107,53,0.05)); border-radius: 12px; margin-bottom: 15px; border-left: 3px solid var(--scapia-orange); }
        .rivalry-header { font-weight: 800; font-size: 1.1rem; color: var(--scapia-orange); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; }
        .rivalry-names { font-size: 1.1rem; font-weight: 700; color: #fff; display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .rivalry-vs { color: #a0aec0; font-size: 0.9rem; font-style: italic; }
        .rivalry-stat { background: rgba(0,0,0,0.3); padding: 8px; border-radius: 8px; font-size: 0.9rem; color: #e2e8f0; text-align: center; }
        
        .lore-entry { padding: 12px; border-left: 2px solid var(--scapia-orange); background: rgba(255,255,255,0.02); margin-bottom: 10px; border-radius: 0 8px 8px 0; }
        .lore-gw { font-weight: 800; color: var(--scapia-orange); font-size: 0.8rem; margin-bottom: 2px; }
        .lore-text { font-size: 0.9rem; color: #e2e8f0; }
        
        /* Standings */
        .standing-card { background: rgba(255, 255, 255, 0.05); border-radius: 12px; padding: 18px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; }
        .net-amount { font-size: 1.4rem; font-weight: 900; }
        .positive { color: var(--success); }
        .negative { color: var(--danger); }
        .award { padding: 12px; background: rgba(255, 255, 255, 0.05); border-radius: 10px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .award-title { font-weight: 700; color: var(--scapia-orange); }
        .badge-icon { margin-left: 4px; cursor: help; }
        .award-winner { font-weight: 600; font-size: 1.1rem; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">‚úàÔ∏è SCAPIA FPL</div>
            <div class="tagline">GW17: The Thai-Theater Pact</div>
        </div>

        <div class="gw-selector" id="gwSelector"></div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('battle')">‚öîÔ∏è Battle</button>
            <button class="tab" onclick="showTab('standings')">üèÜ Standings</button>
            <button class="tab" onclick="showTab('stats')">üìä Stats</button>
        </div>

        <div id="battle" class="content active">
            <div id="spotlight"></div>
            <div class="prize-card">
                <div class="pool-amount">‚Çπ<span id="poolAmount">1700</span></div>
                <div class="pool-info">
                    <div class="info-item"><div class="info-value" id="playerCount">17</div><div class="info-label">Warriors</div></div>
                    <div class="info-item"><div class="info-value">‚Çπ100</div><div class="info-label">Entry</div></div>
                    <div class="info-item"><div class="info-value">GW<span id="currentGW">17</span></div><div class="info-label">Battle</div></div>
                </div>
                <div class="prizes" id="prizeList"></div>
            </div>
            <div class="leaderboard" id="leaderboard"></div>
            <div id="banter"></div>
        </div>

        <div id="standings" class="content"><div id="standingsList"></div></div>

        <div id="stats" class="content">
            <div class="stats-section">
                <div class="stat-title">üìñ Manager Scout Reports</div>
                <div id="playerStories"></div>
            </div>
            <div class="stats-section"><div class="stat-title">ü§∫ Dynamic Rivalries</div><div id="rivalries"></div></div>
            <div class="stats-section">
                <div class="stat-title">üìú Season History (The Lore)</div>
                <div id="seasonLoreList"></div>
            </div>
            <div class="stats-section"><div class="stat-title">üèÜ Performance Awards</div><div id="performanceAwards"></div></div>
            <div class="stats-section"><div class="stat-title">üòÇ Hall of Fame & Shame</div><div id="funAwards"></div></div>
        </div>
    </div>

    <script>
const seasonLore = {
            "GW2": "‚ö° The Opening Salvo: Neeraj claims first blood (61 pts), while Sandesh's differential gamble on √òdegaard leaves him stranded at the bottom.",
            "GW3": "üåä The Sandesh Peak: Sandesh scores a benchmark 83. Meanwhile, the 'Wood' captainers (Sukhpal, Aniruddh) form a mid-table blockade.",
            "GW4": "üöÄ The Salah Syndicate: Venky proves there is life beyond Haaland, taking gold with Salah while the Haaland-perma-captainers fought for scraps.",
            "GW5": "üí∞ The Socialist Week: A massive 5-way prize split proves the league is tight, but Rounak's Pedro punt backfires, leaving him in the basement.",
            "GW7": "‚ò¢Ô∏è The Nuclear Option: Gokul drops a season-high 95 points. The gap between 1st and the pack was so large it practically ended the contest by Saturday.",
            "GW8": "üî• Heater Check: Bharath dominates with 90 points. The story here was the 'Haaland vs Pedro' war‚ÄîHaaland won, leaving the Pedro loyalists in the dust.",
            "GW9": "ü¶Ñ Differential Day: Shashank wins with Mbeumo captain (69 pts), proving that following the herd is for sheep. The template teams crashed hard.",
            "GW10": "üö® The Sukhpal Statement: A massive 93-point haul out of nowhere. The quietest man in the league shouted the loudest.",
            "GW11": "üßä The Trench War: Aniruddh wins with just 49 points. A brutal, low-scoring week where 'surviving' was the only victory condition.",
            "GW13": "ü§° The Chip Massacre: Multiple Triple Captains fail. Mayank wins with 47 points, proving you don't need to be good, just less bad than everyone else.",
            "GW14": "ü§ù The Great Split: A unique tie for 1st (Gokul/Rounak) and 4th creates a payout anomaly. The mid-table vanished; you either hauled or you drowned.",
            "GW15": "ü§Ø The Foden Masterclass: Shashank TC's Foden for 86 points. A stroke of genius that left the Haaland captainers (like Venky and Neeraj) looking obsolete.",
            "GW16": "üíØ The Century Club: Rounak smashes 104 points with a Bench Boost. Neeraj chased hard with 92 on Free Hit, but the rest of the league was playing a different sport.",
            "GW17": "üé¨ The Thai-Theater Pact & The Bench Boost Tragedy: Raghu and Aniruddh synchronized for a massive 103-point summit. But the real story is the heartbreak: Jalaj played a magnificent 83-point Bench Boost and won ‚Çπ0‚Äîa cruel reminder that when the Haaland Triple Captains roar, even heroes get left behind."
        };

        const gwStories = {
             'default': "Played a solid game. The season is a marathon, not a sprint.",
             '17': {
                'Raghu': "103 points! Triple Captain Haaland delivered. The Narrative Merchant is back on top, sharing the throne and the loot (‚Çπ500) with Aniruddh. The redemption arc is peaking.",
                'Aniruddh': "103 points! Matched Raghu blow-for-blow with his own TC Haaland. From 'Prize Magnet' to 'Joint King' in one week. A massive payday after the GW16 slump.",
                'Bharath': "92 points. TC Haaland paid off. The 'Heat Check' player finally thawed out from his mid-season freeze to grab a podium finish and ‚Çπ300.",
                'Neeraj': "91 points. TC Haaland. Another week, another cash finish (4th place, ‚Çπ250). The 'Lightning Starter' is becoming the 'Reliable Finisher'.",
                'Mayank': "88 points. Snuck into the last prize spot (5th, ‚Çπ150) with a standard Haaland captain. The 'Chip Gambler' proved he can win even without rolling the dice.",
                'Jalaj': "83 points with a Bench Boost! The 'Pedro Holder' finally had a good week, but in a cruel twist of fate, 83 wasn't enough for money. The bus drove well, but missed the stop.",
                'Aditya': "81 points. TC Haaland. A solid score that would win many other weeks, but GW17 was a high-scoring monster. Unlucky.",
                'Sukhpal': "79 points with a Bench Boost. The Steady Assassin tried to amplify his score, but just missed out on the elite tier this week. Still lurking.",
                'Rounak': "77 points. After the century last week, he cools down slightly. Still a respectable score, but the 'End Game Boss' took a breather.",
                'Parth': "77 points with a Free Hit. Mid-table mediocrity despite the chip. FPL is a cruel mistress.",
                'Venky': "75 points. The Salah Syndicate actually scored well! But so did everyone else. Another week without a withdrawal from the bank.",
                'Shashank': "74 points with a Free Hit and Foden captain. The hero of GW15 couldn't replicate the magic. The differential died a quiet death.",
                'Sagar': "74 points. The Valsad Coconuts are floating in no-man's land.",
                'Sandesh': "71 points. Captained Haaland. A standard week for the 'Rogue'. Neither chaos nor glory, just existence.",
                'Arindam': "69 points. The Heartbreak Kid continues his streak of almost-but-not-quite.",
                'Shubs': "61 points. A quiet week for the Shark after a feeding frenzy. He's still well up for the month.",
                'Puneet': "56 points. Mr. Consistent consistently missed the memo that this was a high-scoring week. A rare blip for the reliable one.",
                'Gokul': "52 points. Captained Thiago. Again. The 'Volatility FC' rollercoaster has crashed into the basement. From 1st to 19th in two weeks.",
                'Sarjan': "47 points. Captained Jo√£o Pedro. The loyalty is inspiring, but the rank is depressing. The ship is sinking, but the captain is going down with it."
             }
        };

        const aiQuotes = {
            'Raghu': "\"103 points. Triple digits. Put some respect on the narrative name.\"",
            'Aniruddh': "\"I told you the magnet works. Sometimes it just takes a Triple Captain to activate it.\"",
            'Bharath': "\"I'm back. The ice has melted. Fear the heat check.\"",
            'Neeraj': "\"Another week, another deposit. I am the bank.\"",
            'Mayank': "\"5th place is still money. I'll take it and run.\"",
            'Jalaj': "\"83 points on Bench Boost and NO MONEY? I demand a recount.\"",
            'Sukhpal': "\"Bench Boost for 79. Not great, not terrible. Just... existing.\"",
            'Rounak': "\"Can't score 100 every week. Let the mortals have their fun.\"",
            'Venky': "\"75 points and I'm 13th? This league is rigged against the Syndicate.\"",
            'Shashank': "\"Foden gave, and Foden took away. Such is the differential life.\"",
            'Gokul': "\"Thiago captain. You wouldn't get it. It's high art.\"",
            'Sarjan': "\"Pedro will haul next week. I can feel it.\"",
            'Puneet': "\"56 points? I thought we agreed to a truce this week.\"",
            'Sandesh': "\"71 points. It's honest work.\"",
            'Arindam': "\"69 points. Nice. But also not nice because I'm broke.\"",
            'Sagar': "\"74 points. I exist.\"",
            'Shubs': "\"The shark needs to sleep sometimes.\""
        };
const seasonJourneys = {
            'Raghu': { 
                journey: "The 'Director' played the long game perfectly. After a mid-season intermission of character building, he executed the ultimate plot twist in GW17. A 103-point blockbuster with a Triple Captain climax proves that he isn't just watching the movie‚Äîhe is writing the script.", 
                signature: "THE DIRECTOR" 
            },
            'Aniruddh': { 
                journey: "The laws of magnetism are absolute. After a fluctuating mid-season where the polarity seemed reversed, the Magnet reactivated in GW17. Matching the league-high score shows that when he turns the power on, the prize pool has no choice but to fly straight into his pocket.", 
                signature: "PRIZE MAGNET" 
            },
            'Bharath': { 
                journey: "The 'Italian Stallion' took a standing eight count during the mid-season freeze, but he didn't stay down. His return to the podium in GW17 with a 92-point haymaker proves he still has the eye of the tiger. He took the hits, and now he's swinging back.", 
                signature: "EYE OF THE TIGER" 
            },
            'Neeraj': { 
                journey: "While others rely on luck, the 'Futurist' relies on engineering. From his opening salvo in GW2 to his relentless recent consistency (top 5 in GW16 & 17), his season is a marvel of efficiency. The suit is fully powered, the upgrades are working, and the returns are flowing.", 
                signature: "IRON EFFICIENCY" 
            },
            'Mayank': { 
                journey: "He started the season flipping coins for ugly wins, but the strategy has evolved into a science. Sneaking into the money yet again in GW17 proves he knows exactly how to game the house. He doesn't need to be the hero; he just needs to be the one walking away with the cash.", 
                signature: "THE HOUSE ALWAYS WINS" 
            },
            'Jalaj': { 
                journey: "A mythic effort of heroic proportions. He pushed the boulder up the hill with a massive 83-point Bench Boost, only to watch the prize roll just out of reach. It‚Äôs a tragicomedy, but the underlying numbers show the bus is finally running on time‚Äîthe destination is coming.", 
                signature: "UNLUCKY 83" 
            },
            'Rounak': { 
                journey: "He spent the early season asleep in the pod, but GW16 was his 'Red Pill' moment. Smashing the century barrier (104 pts) wasn't luck; it was him finally seeing the code. He has transcended from a background character to the protagonist of the endgame.", 
                signature: "THE ONE" 
            },
            'Shubs': { 
                journey: "The market corrected in his favor. After appearing to be a liquidity provider early on, the Shark smelled blood in the second quarter. He executed hostile takeovers of the leaderboard in GW12 & 14, proving that in this economy, greed is undeniably good.", 
                signature: "GREED IS GOOD" 
            },
            'Sukhpal': { 
                journey: "A season of cold, calculated efficiency. He doesn't make noise; he makes hits. With a massive GW10 haul (93 pts) and constant podium finishes, he moves through the gameweeks with the silence of a professional, collecting bounties while keeping his suit spotless.", 
                signature: "SILENT ASSASSIN" 
            },
            'Gokul': { 
                journey: "You cannot analyze him; you can only witness him. From a league-breaking 95 points in GW7 to captaining Thiago on a Wildcard, he treats FPL like a social experiment. It‚Äôs not about the money; it‚Äôs about sending a message that logic is overrated.", 
                signature: "AGENT OF CHAOS" 
            },
            'Shashank': { 
                journey: "He rejects the template society. When he wins, he wins on his own terms‚Äîbe it Mbeumo or the legendary Foden Triple Captain in GW15. It‚Äôs a chaotic, beautiful rebellion against the boring average, proving that for him, chaos is indeed a ladder.", 
                signature: "ANTI-TEMPLATE" 
            },
            'Venky': { 
                journey: "The Great Gatsby of FPL. He threw a massive party in GW4 with Salah, but has since been the generous host, funding the dreams of others. It‚Äôs a tragic romance with the Egyptian King, noble in its loyalty even as the bank account drains.", 
                signature: "THE PHILANTHROPIST" 
            },
            'Sarjan': { 
                journey: "He is communicating from a different dimension where Jo√£o Pedro is the best asset in the game. It‚Äôs a lonely mission in deep space, holding onto his beliefs while relativity (and rank) slips away. A heartbreakingly loyal voyage into the unknown.", 
                signature: "PEDRO LOYALIST" 
            },
            'Puneet': { 
                journey: "He doesn't have the flashy tech or the magic powers, just gritty determination. He grinds out results, stays in the fight, and holds the line. It‚Äôs an honest season of work, proving that sometimes the steady soldier outlasts the flashy superheroes.", 
                signature: "THE SOLDIER" 
            },
            'Sandesh': { 
                journey: "He found the treasure chest early in GW3 and has been sailing on those riches since. While the ship has drifted into calm waters recently (anchored by Mateta), he remains the savvy captain of his own destiny, creating his own map as he goes.", 
                signature: "PIRATE KING" 
            },
            'Arindam': { 
                journey: "The football keeps getting pulled away at the last second. He consistently scores 'nice' points‚Äîlike the 69 in GW17‚Äîbut finds himself inches from the cash line. It‚Äôs a struggle, but his persistence in the face of constant 'almosts' is genuinely endearing.", 
                signature: "HEARTBREAK KID" 
            },
            'Sagar': { 
                journey: "A manic season of explosions and tinkering. He utilized his Free Hit perfectly in GW10 to steal a prize, proving that he doesn't need a long-term plan, just a big gun. He‚Äôs scavenging points in the chaos, happy to blow things up just to see what happens.", 
                signature: "DEMOLITION MAN" 
            }
        };

        const managerMeta = {
            'Gokul': { nick: 'The Joker', archetype: 'CHAOS AGENT', character: 'The Joker', desc: 'Agent of Chaos', avatar: 'https://image.pollinations.ai/prompt/The%20Joker%20from%20Dark%20Knight%20chaotic%20cinematic%20lighting?width=200&height=200&seed=1&nologo=true' },
            'Sarjan': { nick: 'Cooper', archetype: 'THE LOYALIST', character: 'Cooper (Interstellar)', desc: 'Loyal to the End', avatar: 'https://image.pollinations.ai/prompt/Matthew%20McConaughey%20as%20Cooper%20Interstellar%20cinematic%20lighting?width=200&height=200&seed=2&nologo=true' },
            'Shubs': { nick: 'Gordon Gekko', archetype: 'THE SHARK', character: 'Gordon Gekko', desc: 'Greed is Good', avatar: 'https://image.pollinations.ai/prompt/Michael%20Douglas%20as%20Gordon%20Gekko%20Wall%20Street%20cinematic?width=200&height=200&seed=3&nologo=true' },
            'Raghu': { nick: 'Christopher Nolan', archetype: 'THE DIRECTOR', character: 'The Director', desc: 'Controls the Narrative', avatar: 'https://image.pollinations.ai/prompt/Christopher%20Nolan%20directing%20movie%20cinematic%20lighting?width=200&height=200&seed=4&nologo=true' },
            'Shashank': { nick: 'Tyler Durden', archetype: 'THE ANARCHIST', character: 'Tyler Durden', desc: 'Rejects the Template', avatar: 'https://image.pollinations.ai/prompt/Brad%20Pitt%20as%20Tyler%20Durden%20Fight%20Club%20cinematic?width=200&height=200&seed=5&nologo=true' },
            'Rounak': { nick: 'Neo', archetype: 'THE CHOSEN ONE', character: 'Neo', desc: 'Bends the Matrix', avatar: 'https://image.pollinations.ai/prompt/Keanu%20Reeves%20as%20Neo%20The%20Matrix%20cinematic?width=200&height=200&seed=6&nologo=true' },
            'Sukhpal': { nick: 'John Wick', archetype: 'THE ASSASSIN', character: 'John Wick', desc: 'Silent but Deadly', avatar: 'https://image.pollinations.ai/prompt/Keanu%20Reeves%20as%20John%20Wick%20cinematic%20lighting?width=200&height=200&seed=7&nologo=true' },
            'Neeraj': { nick: 'Tony Stark', archetype: 'THE FUTURIST', character: 'Iron Man', desc: 'Always Innovating', avatar: 'https://image.pollinations.ai/prompt/Robert%20Downey%20Jr%20as%20Tony%20Stark%20cinematic%20lighting?width=200&height=200&seed=8&nologo=true' },
            'Bharath': { nick: 'Rocky Balboa', archetype: 'THE FIGHTER', character: 'Rocky', desc: 'Takes Hits, Keeps Going', avatar: 'https://image.pollinations.ai/prompt/Sylvester%20Stallone%20as%20Rocky%20Balboa%20cinematic?width=200&height=200&seed=9&nologo=true' },
            'Mayank': { nick: 'Harvey Dent', archetype: 'TWO-FACE', character: 'Two-Face', desc: 'Heads or Tails', avatar: 'https://image.pollinations.ai/prompt/Aaron%20Eckhart%20as%20Two%20Face%20Batman%20cinematic?width=200&height=200&seed=10&nologo=true' },
            'Jalaj': { nick: 'Sisyphus', archetype: 'THE STRUGGLER', character: 'Sisyphus', desc: 'Pushing the Rock', avatar: 'https://image.pollinations.ai/prompt/Sisyphus%20pushing%20boulder%20mythology%20cinematic?width=200&height=200&seed=11&nologo=true' },
            'Arindam': { nick: 'Charlie Brown', archetype: 'UNLUCKY', character: 'Charlie Brown', desc: 'Why me?', avatar: 'https://image.pollinations.ai/prompt/Charlie%20Brown%20Peanuts%203d%20cinematic%20lighting?width=200&height=200&seed=12&nologo=true' },
            'Puneet': { nick: 'Captain America', archetype: 'RELIABLE', character: 'Captain America', desc: 'Can do this all day', avatar: 'https://image.pollinations.ai/prompt/Chris%20Evans%20as%20Captain%20America%20cinematic?width=200&height=200&seed=13&nologo=true' },
            'Venky': { nick: 'Gatsby', archetype: 'THE PHILANTHROPIST', character: 'Gatsby', desc: 'Great Parties, Sad End', avatar: 'https://image.pollinations.ai/prompt/Leonardo%20DiCaprio%20as%20Jay%20Gatsby%20cinematic?width=200&height=200&seed=14&nologo=true' },
            'Aniruddh': { nick: 'Magneto', archetype: 'THE MAGNET', character: 'Magneto', desc: 'Attracts Metal (Money)', avatar: 'https://image.pollinations.ai/prompt/Magneto%20X-Men%20cinematic%20lighting?width=200&height=200&seed=15&nologo=true' },
            'Sandesh': { nick: 'Jack Sparrow', archetype: 'THE ROGUE', character: 'Jack Sparrow', desc: 'Savvy?', avatar: 'https://image.pollinations.ai/prompt/Johnny%20Depp%20as%20Jack%20Sparrow%20cinematic?width=200&height=200&seed=16&nologo=true' },
            'Sagar': { nick: 'Rocket Raccoon', archetype: 'THE EXPLOSIVE', character: 'Rocket', desc: 'Small but Chaos', avatar: 'https://image.pollinations.ai/prompt/Rocket%20Raccoon%20Marvel%20cinematic%20lighting?width=200&height=200&seed=17&nologo=true' }
        };

        const gameData = {
            2: { players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Raghu', 'Mayank', 'Puneet'], pool: 1100, prizes: [600, 400, 100], results: [{ name: 'Neeraj', score: 61, captain: 'Salah', prize: 600 }, { name: 'Puneet', score: 56, captain: 'Ekitik√©', prize: 400 }, { name: 'Gokul', score: 53, captain: 'Haaland', prize: 100 }, { name: 'Sukhpal', score: 49, captain: 'Saka', prize: 0 }, { name: 'Shubs', score: 48, captain: 'Salah', prize: 0 }, { name: 'Mayank', score: 42, captain: 'Haaland', prize: 0 }, { name: 'Shashank', score: 42, captain: 'Semenyo', prize: 0 }, { name: 'Raghu', score: 41, captain: 'Haaland', prize: 0 }, { name: 'Bharath', score: 38, captain: 'Salah', prize: 0 }, { name: 'Venky', score: 37, captain: 'Haaland', prize: 0 }, { name: 'Sandesh', score: 29, captain: '√òdegaard', prize: 0 }] },
            3: { players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh'], pool: 1400, prizes: [700, 400, 200, 100], results: [{ name: 'Sandesh', score: 83, captain: 'Jo√£o Pedro', prize: 700 }, { name: 'Shashank', score: 67, captain: 'Mbeumo', prize: 400 }, { name: 'Raghu', score: 64, captain: 'Haaland', prize: 150 }, { name: 'Sarjan', score: 64, captain: 'Jo√£o Pedro', prize: 150 }, { name: 'Gokul', score: 63, captain: 'Haaland', prize: 0 }, { name: 'Bharath', score: 58, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Venky', score: 54, captain: 'Haaland', prize: 0 }, { name: 'Neeraj', score: 53, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Mayank', score: 52, captain: 'Haaland', prize: 0 }, { name: 'Sukhpal', score: 44, captain: 'Wood', prize: 0 }, { name: 'Aniruddh', score: 43, captain: 'Wood', prize: 0 }, { name: 'Puneet', score: 40, captain: 'Haaland', prize: 0 }, { name: 'Shubs', score: 37, captain: 'Wood', prize: 0 }, { name: 'Rounak', score: 27, captain: 'Wood', prize: 0 }] },
            4: { players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam'], pool: 1500, prizes: [700, 450, 250, 100], results: [{ name: 'Venky', score: 77, captain: 'Salah', prize: 700 }, { name: 'Raghu', score: 73, captain: 'Haaland', prize: 450 }, { name: 'Sukhpal', score: 69, captain: 'Haaland', prize: 250 }, { name: 'Puneet', score: 66, captain: 'Haaland', prize: 100 }, { name: 'Arindam', score: 65, captain: 'Haaland', prize: 0 }, { name: 'Sandesh', score: 63, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Rounak', score: 63, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Aniruddh', score: 63, captain: 'Haaland', prize: 0 }, { name: 'Neeraj', score: 62, captain: 'Salah', prize: 0 }, { name: 'Sarjan', score: 60, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Shashank', score: 58, captain: 'Salah', prize: 0 }, { name: 'Shubs', score: 55, captain: 'Salah', prize: 0 }, { name: 'Gokul', score: 53, captain: 'Kudus', prize: 0 }, { name: 'Mayank', score: 46, captain: 'Haaland', prize: 0 }, { name: 'Bharath', score: 41, captain: 'Ekitik√©', prize: 0 }] },
            5: { players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam'], pool: 1500, prizes: [500, 400, 300, 200, 100], results: [{ name: 'Mayank', score: 63, captain: 'Haaland', prize: 500 }, { name: 'Puneet', score: 61, captain: 'Haaland', prize: 400 }, { name: 'Raghu', score: 60, captain: 'Haaland', prize: 300 }, { name: 'Bharath', score: 57, captain: 'Ekitik√©', prize: 200 }, { name: 'Aniruddh', score: 55, captain: 'Haaland', prize: 100 }, { name: 'Venky', score: 51, captain: 'Salah', prize: 0 }, { name: 'Sukhpal', score: 49, captain: 'Haaland', prize: 0 }, { name: 'Neeraj', score: 47, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Arindam', score: 47, captain: 'Haaland', prize: 0 }, { name: 'Shashank', score: 44, captain: 'Salah', prize: 0 }, { name: 'Sarjan', score: 44, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Gokul', score: 43, captain: 'Kudus', prize: 0 }, { name: 'Sandesh', score: 40, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Shubs', score: 39, captain: 'Salah', prize: 0 }, { name: 'Rounak', score: 38, captain: 'Jo√£o Pedro', prize: 0 }] },
            6: { players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam', 'Sagar', 'Jalaj'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Gokul', score: 68, captain: 'Haaland', prize: 600 }, { name: 'Mayank', score: 65, captain: 'Haaland', prize: 400 }, { name: 'Sukhpal', score: 64, captain: 'Haaland', prize: 300 }, { name: 'Aniruddh', score: 59, captain: 'Haaland', prize: 250 }, { name: 'Rounak', score: 57, captain: 'Haaland', prize: 150 }, { name: 'Raghu', score: 56, captain: 'Haaland', prize: 0 }, { name: 'Shubs', score: 56, captain: 'Haaland', prize: 0 }, { name: 'Sagar', score: 55, captain: 'Haaland', prize: 0 }, { name: 'Puneet', score: 49, captain: 'Haaland', prize: 0 }, { name: 'Venky', score: 48, captain: 'Haaland', prize: 0 }, { name: 'Sandesh', score: 46, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Shashank', score: 39, captain: 'Salah', prize: 0 }, { name: 'Sarjan', score: 29, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Neeraj', score: 27, captain: 'Richarlison', prize: 0 }, { name: 'Jalaj', score: 26, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Bharath', score: 24, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Arindam', score: 18, captain: 'Haaland', prize: 0 }] },
            7: { players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam', 'Sagar', 'Jalaj'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Gokul', score: 95, captain: 'Haaland', prize: 600 }, { name: 'Bharath', score: 83, captain: 'Haaland', prize: 400 }, { name: 'Rounak', score: 77, captain: 'Haaland', prize: 300 }, { name: 'Neeraj', score: 74, captain: 'Haaland', prize: 200 }, { name: 'Aniruddh', score: 74, captain: 'Haaland', prize: 200 }, { name: 'Puneet', score: 71, captain: 'Haaland', prize: 0 }, { name: 'Sukhpal', score: 71, captain: 'Haaland', prize: 0 }, { name: 'Arindam', score: 70, captain: 'Haaland', prize: 0 }, { name: 'Shubs', score: 69, captain: 'Haaland', prize: 0 }, { name: 'Shashank', score: 68, captain: 'Mbeumo', prize: 0 }, { name: 'Mayank', score: 66, captain: 'Haaland', prize: 0 }, { name: 'Sagar', score: 65, captain: 'Haaland', prize: 0 }, { name: 'Venky', score: 55, captain: 'Haaland', prize: 0 }, { name: 'Raghu', score: 50, captain: 'Haaland', prize: 0 }, { name: 'Jalaj', score: 48, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Sandesh', score: 47, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Sarjan', score: 41, captain: 'Jo√£o Pedro', prize: 0 }] },
            8: { players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam', 'Sagar', 'Jalaj'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Bharath', score: 90, captain: 'Haaland', prize: 600 }, { name: 'Sukhpal', score: 81, captain: 'Haaland', prize: 400 }, { name: 'Mayank', score: 80, captain: 'Haaland (TC)', prize: 275 }, { name: 'Gokul', score: 80, captain: 'Haaland', prize: 275 }, { name: 'Aniruddh', score: 72, captain: 'Haaland', prize: 150 }, { name: 'Neeraj', score: 69, captain: 'Haaland', prize: 0 }, { name: 'Rounak', score: 68, captain: 'Haaland', prize: 0 }, { name: 'Sandesh', score: 68, captain: 'Jo√£o Pedro (FH)', prize: 0 }, { name: 'Shubs', score: 64, captain: 'Haaland', prize: 0 }, { name: 'Raghu', score: 63, captain: 'Haaland (WC)', prize: 0 }, { name: 'Puneet', score: 60, captain: 'Haaland', prize: 0 }, { name: 'Venky', score: 54, captain: 'Haaland', prize: 0 }, { name: 'Arindam', score: 50, captain: 'Haaland', prize: 0 }, { name: 'Shashank', score: 46, captain: 'Semenyo', prize: 0 }, { name: 'Sagar', score: 44, captain: 'Haaland', prize: 0 }, { name: 'Sarjan', score: 42, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Jalaj', score: 37, captain: 'Jo√£o Pedro', prize: 0 }] },
            9: { players: ['Venky', 'Shubs', 'Bharath', 'Sukhpal', 'Gokul', 'Neeraj', 'Sandesh', 'Shashank', 'Sarjan', 'Raghu', 'Mayank', 'Puneet', 'Rounak', 'Aniruddh', 'Arindam', 'Sagar', 'Jalaj'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Shashank', score: 69, captain: 'Mbeumo', prize: 600 }, { name: 'Bharath', score: 68, captain: 'Jo√£o Pedro', prize: 400 }, { name: 'Raghu', score: 67, captain: 'Haaland (WC)', prize: 300 }, { name: 'Sukhpal', score: 61, captain: 'Haaland', prize: 250 }, { name: 'Venky', score: 57, captain: 'Haaland', prize: 50 }, { name: 'Sagar', score: 57, captain: 'Haaland', prize: 50 }, { name: 'Jalaj', score: 57, captain: 'Jo√£o Pedro', prize: 50 }, { name: 'Arindam', score: 48, captain: 'Haaland', prize: 0 }, { name: 'Puneet', score: 45, captain: 'Haaland', prize: 0 }, { name: 'Rounak', score: 44, captain: 'Haaland', prize: 0 }, { name: 'Sandesh', score: 44, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Mayank', score: 43, captain: 'Semenyo', prize: 0 }, { name: 'Neeraj', score: 37, captain: 'Haaland', prize: 0 }, { name: 'Sarjan', score: 37, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Shubs', score: 36, captain: 'Haaland (WC)', prize: 0 }, { name: 'Aniruddh', score: 36, captain: 'Semenyo', prize: 0 }, { name: 'Gokul', score: 31, captain: 'Haaland', prize: 0 }] },
            10: { players: ['Shashank','Bharath','Raghu','Sukhpal','Venky','Sagar','Jalaj','Arindam','Puneet','Rounak','Sandesh','Mayank','Neeraj','Sarjan','Shubs','Aniruddh','Gokul'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Sukhpal', score: 93, captain: 'Haaland', prize: 600 }, { name: 'Neeraj', score: 89, captain: 'Haaland', prize: 400 }, { name: 'Shubs', score: 83, captain: 'Haaland', prize: 300 }, { name: 'Bharath', score: 82, captain: 'Haaland (BB1)', prize: 250 }, { name: 'Sagar', score: 81, captain: 'Haaland (FH1)', prize: 150 }, { name: 'Rounak', score: 78, captain: 'Haaland', prize: 0 }, { name: 'Mayank', score: 73, captain: 'Gabriel', prize: 0 }, { name: 'Gokul', score: 73, captain: 'Haaland', prize: 0 }, { name: 'Puneet', score: 72, captain: 'Haaland', prize: 0 }, { name: 'Raghu', score: 67, captain: 'Haaland', prize: 0 }, { name: 'Shashank', score: 66, captain: 'Mbeumo', prize: 0 }, { name: 'Jalaj', score: 64, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Sandesh', score: 62, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Venky', score: 60, captain: 'Haaland', prize: 0 }, { name: 'Aniruddh', score: 56, captain: 'Haaland', prize: 0 }, { name: 'Arindam', score: 52, captain: 'Haaland', prize: 0 }, { name: 'Sarjan', score: 43, captain: 'Jo√£o Pedro', prize: 0 }] },
            11: { players: ['Shashank','Bharath','Raghu','Sukhpal','Venky','Sagar','Jalaj','Arindam','Puneet','Rounak','Sandesh','Mayank','Neeraj','Sarjan','Shubs','Aniruddh','Gokul'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Aniruddh', score: 49, captain: 'Haaland', prize: 600 }, { name: 'Gokul', score: 48, captain: 'Haaland', prize: 400 }, { name: 'Venky', score: 46, captain: 'Haaland', prize: 300 }, { name: 'Puneet', score: 45, captain: 'Haaland', prize: 250 }, { name: 'Jalaj', score: 43, captain: 'Jo√£o Pedro', prize: 50 }, { name: 'Arindam', score: 43, captain: 'Haaland', prize: 50 }, { name: 'Sarjan', score: 43, captain: 'Jo√£o Pedro', prize: 50 }, { name: 'Sandesh', score: 42, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Shubs', score: 42, captain: 'Gabriel', prize: 0 }, { name: 'Raghu', score: 40, captain: 'Haaland', prize: 0 }, { name: 'Neeraj', score: 39, captain: 'Semenyo', prize: 0 }, { name: 'Sukhpal', score: 38, captain: 'Haaland', prize: 0 }, { name: 'Mayank', score: 36, captain: 'Caicedo', prize: 0 }, { name: 'Bharath', score: 35, captain: 'Enzo', prize: 0 }, { name: 'Shashank', score: 34, captain: 'Caicedo', prize: 0 }, { name: 'Rounak', score: 34, captain: 'Haaland', prize: 0 }, { name: 'Sagar', score: 29, captain: 'Haaland', prize: 0 }] },
            12: { players: ['Shashank','Bharath','Raghu','Sukhpal','Venky','Sagar','Jalaj','Arindam','Puneet','Rounak','Sandesh','Mayank','Neeraj','Sarjan','Shubs','Aniruddh','Gokul'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Shubs', score: 61, captain: 'Haaland', prize: 600 }, { name: 'Bharath', score: 60, captain: 'Haaland', prize: 400 }, { name: 'Raghu', score: 50, captain: 'Haaland', prize: 300 }, { name: 'Rounak', score: 48, captain: 'Haaland (FH1)', prize: 250 }, { name: 'Neeraj', score: 47, captain: 'Haaland', prize: 150 }, { name: 'Gokul', score: 46, captain: 'Haaland', prize: 0 }, { name: 'Sandesh', score: 46, captain: 'Haaland (BB1)', prize: 0 }, { name: 'Sukhpal', score: 45, captain: 'Haaland', prize: 0 }, { name: 'Aniruddh', score: 45, captain: 'Haaland', prize: 0 }, { name: 'Sarjan', score: 39, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Puneet', score: 38, captain: 'Haaland', prize: 0 }, { name: 'Venky', score: 35, captain: 'Haaland (TC1)', prize: 0 }, { name: 'Shashank', score: 34, captain: 'Salah', prize: 0 }, { name: 'Arindam', score: 33, captain: 'Haaland', prize: 0 }, { name: 'Sagar', score: 32, captain: 'Haaland (TC1)', prize: 0 }, { name: 'Mayank', score: 30, captain: 'Mateta', prize: 0 }, { name: 'Jalaj', score: 27, captain: 'Jo√£o Pedro', prize: 0 }] },
            13: { players: ['Shashank','Bharath','Raghu','Sukhpal','Venky','Sagar','Jalaj','Arindam','Puneet','Rounak','Sandesh','Mayank','Neeraj','Sarjan','Shubs','Aniruddh','Gokul'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Mayank', score: 47, captain: 'Haaland', prize: 600 }, { name: 'Raghu', score: 46, captain: 'Haaland', prize: 400 }, { name: 'Arindam', score: 44, captain: 'Haaland', prize: 300 }, { name: 'Sarjan', score: 41, captain: 'Jo√£o Pedro', prize: 250 }, { name: 'Gokul', score: 40, captain: 'Haaland (BB1)', prize: 150 }, { name: 'Rounak', score: 39, captain: 'Haaland (TC1)', prize: 0 }, { name: 'Shubs', score: 37, captain: 'Haaland (TC1)', prize: 0 }, { name: 'Sukhpal', score: 35, captain: 'Haaland', prize: 0 }, { name: 'Puneet', score: 35, captain: 'Haaland', prize: 0 }, { name: 'Venky', score: 30, captain: 'Haaland', prize: 0 }, { name: 'Neeraj', score: 27, captain: 'Haaland', prize: 0 }, { name: 'Sandesh', score: 27, captain: 'Haaland (TC1)', prize: 0 }, { name: 'Aniruddh', score: 23, captain: 'Haaland', prize: 0 }, { name: 'Sagar', score: 21, captain: 'Haaland', prize: 0 }, { name: 'Bharath', score: 20, captain: 'Haaland', prize: 0 }, { name: 'Jalaj', score: 17, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Shashank', score: 14, captain: 'Mbeumo', prize: 0 }] },
            14: { players: ['Shashank','Bharath','Raghu','Sukhpal','Venky','Sagar','Jalaj','Arindam','Puneet','Rounak','Sandesh','Mayank','Neeraj','Sarjan','Shubs','Aniruddh','Gokul'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Gokul', score: 82, captain: 'Haaland', prize: 500 }, { name: 'Rounak', score: 82, captain: 'Haaland', prize: 500 }, { name: 'Shubs', score: 78, captain: 'Haaland', prize: 300 }, { name: 'Raghu', score: 76, captain: 'Haaland', prize: 200 }, { name: 'Neeraj', score: 76, captain: 'Haaland', prize: 200 }, { name: 'Arindam', score: 75, captain: 'Haaland', prize: 0 }, { name: 'Puneet', score: 74, captain: 'Haaland', prize: 0 }, { name: 'Aniruddh', score: 71, captain: 'Haaland', prize: 0 }, { name: 'Sukhpal', score: 68, captain: 'Haaland', prize: 0 }, { name: 'Venky', score: 66, captain: 'Haaland', prize: 0 }, { name: 'Bharath', score: 65, captain: 'Haaland', prize: 0 }, { name: 'Mayank', score: 52, captain: 'Gakpo', prize: 0 }, { name: 'Sandesh', score: 50, captain: 'Haaland', prize: 0 }, { name: 'Sagar', score: 46, captain: 'Haaland', prize: 0 }, { name: 'Sarjan', score: 43, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Shashank', score: 42, captain: 'Mbeumo', prize: 0 }, { name: 'Jalaj', score: 25, captain: 'Jo√£o Pedro', prize: 0 }] },
            15: { players: ['Shashank','Bharath','Raghu','Sukhpal','Venky','Sagar','Jalaj','Arindam','Puneet','Rounak','Sandesh','Mayank','Neeraj','Sarjan','Shubs','Aniruddh','Gokul'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Shashank', score: 86, captain: 'Foden', chip: 'TC', prize: 600 }, { name: 'Shubs', score: 74, captain: 'Haaland', chip: 'FH', prize: 400 }, { name: 'Sukhpal', score: 64, captain: 'Haaland', prize: 300 }, { name: 'Puneet', score: 59, captain: 'Haaland', chip: 'WC', prize: 200 }, { name: 'Mayank', score: 59, captain: 'Haaland', chip: 'WC', prize: 200 }, { name: 'Arindam', score: 57, captain: 'Haaland', prize: 0 }, { name: 'Raghu', score: 56, captain: 'Haaland', prize: 0 }, { name: 'Gokul', score: 56, captain: 'Haaland', prize: 0 }, { name: 'Sarjan', score: 56, captain: 'Jo√£o Pedro', prize: 0 }, { name: 'Sandesh', score: 53, captain: 'Mateta', prize: 0 }, { name: 'Bharath', score: 50, captain: 'Haaland', prize: 0 }, { name: 'Rounak', score: 47, captain: 'Haaland', prize: 0 }, { name: 'Jalaj', score: 43, captain: 'Palmer', prize: 0 }, { name: 'Neeraj', score: 39, captain: 'Haaland', prize: 0 }, { name: 'Venky', score: 38, captain: 'Haaland', prize: 0 }, { name: 'Sagar', score: 36, captain: 'Haaland', prize: 0 }, { name: 'Aniruddh', score: 35, captain: 'Haaland', prize: 0 }] },
            16: { players: ['Shashank','Bharath','Raghu','Sukhpal','Venky','Sagar','Jalaj','Arindam','Puneet','Rounak','Sandesh','Mayank','Neeraj','Sarjan','Shubs','Aniruddh','Gokul'], pool: 1700, prizes: [600, 400, 300, 250, 150], results: [{ name: 'Rounak', score: 104, captain: 'Haaland', chip: 'BB', prize: 600 }, { name: 'Neeraj', score: 92, captain: 'Saka', chip: 'FH', prize: 400 }, { name: 'Sukhpal', score: 80, captain: 'Haaland', chip: 'WC', prize: 275 }, { name: 'Mayank', score: 80, captain: 'Haaland', chip: 'FH', prize: 275 }, { name: 'Raghu', score: 75, captain: 'Haaland', prize: 150 }, { name: 'Shashank', score: 74, captain: 'B.Fernandes', chip: 'BB', prize: 0 }, { name: 'Aniruddh', score: 73, captain: 'Haaland', chip: 'WC', prize: 0 }, { name: 'Shubs', score: 71, captain: 'Saka', prize: 0 }, { name: 'Arindam', score: 62, captain: 'Haaland', prize: 0 }, { name: 'Puneet', score: 61, captain: 'Haaland', prize: 0 }, { name: 'Venky', score: 59, captain: 'Haaland', prize: 0 }, { name: 'Bharath', score: 58, captain: 'Haaland', prize: 0 }, { name: 'Sagar', score: 52, captain: 'Haaland', prize: 0 }, { name: 'Gokul', score: 51, captain: 'Thiago', chip: 'WC', prize: 0 }, { name: 'Jalaj', score: 51, captain: 'Palmer', prize: 0 }, { name: 'Sandesh', score: 50, captain: 'Mateta', prize: 0 }, { name: 'Sarjan', score: 39, captain: 'Jo√£o Pedro', prize: 0 }] },
            17: {
                players: ['Shashank','Bharath','Raghu','Sukhpal','Venky','Sagar','Jalaj','Arindam','Puneet','Rounak','Sandesh','Mayank','Neeraj','Sarjan','Shubs','Aniruddh','Gokul'],
                pool: 1700,
                prizes: [600, 400, 300, 250, 150],
                results: [
                    { name: 'Raghu', score: 103, captain: 'Haaland', chip: 'TC', prize: 500 },
                    { name: 'Aniruddh', score: 103, captain: 'Haaland', chip: 'TC', prize: 500 },
                    { name: 'Bharath', score: 92, captain: 'Haaland', chip: 'TC', prize: 300 },
                    { name: 'Neeraj', score: 91, captain: 'Haaland', chip: 'TC', prize: 250 },
                    { name: 'Mayank', score: 88, captain: 'Haaland', prize: 150 },
                    { name: 'Jalaj', score: 83, captain: 'Haaland', chip: 'BB', prize: 0 },
                    { name: 'Sukhpal', score: 79, captain: 'Haaland', chip: 'BB', prize: 0 },
                    { name: 'Rounak', score: 77, captain: 'Haaland', prize: 0 },
                    { name: 'Venky', score: 75, captain: 'Haaland', prize: 0 },
                    { name: 'Shashank', score: 74, captain: 'Foden', chip: 'FH', prize: 0 },
                    { name: 'Sagar', score: 74, captain: 'Haaland', prize: 0 },
                    { name: 'Sandesh', score: 71, captain: 'Haaland', prize: 0 },
                    { name: 'Arindam', score: 69, captain: 'Haaland', prize: 0 },
                    { name: 'Shubs', score: 61, captain: 'Haaland', prize: 0 }, 
                    { name: 'Puneet', score: 56, captain: 'Haaland', prize: 0 },
                    { name: 'Gokul', score: 52, captain: 'Thiago', prize: 0 },
                    { name: 'Sarjan', score: 47, captain: 'Jo√£o Pedro', prize: 0 }
                ]
            }
        };

        let currentGW = 17;

        function initSelector() {
            const selector = document.getElementById('gwSelector');
            let html = '';
            for(let i=2; i<=17; i++) {
                html += `<button class="gw-btn ${i === currentGW ? 'active' : ''}" onclick="showGW(${i})">GW ${i}</button>`;
            }
            selector.innerHTML = html;
            setTimeout(() => selector.scrollLeft = selector.scrollWidth, 100);
        }

        function showGW(gw) {
            currentGW = gw;
            document.querySelectorAll('.gw-btn').forEach(btn => {
                btn.classList.remove('active');
                if(btn.innerText === `GW ${gw}`) btn.classList.add('active');
            });
            updateBattle();
        }

        function showTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            if (event && event.target) { event.target.classList.add('active'); }
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            document.getElementById(tab).classList.add('active');
            if (tab === 'standings') updateStandings();
            if (tab === 'stats') { updateStats(); updateRivalries(); }
        }

        function getBadges(playerName, data, prevPositions, i) {
            let badges = '';
            if(!data.results.length) return '';
            if (i === 0 || (data.results[i].score === data.results[0].score)) { badges += '<span class="badge-icon" title="The King: Weekly Winner">üëë</span>'; }
            if (i === data.results.length - 1) { badges += '<span class="badge-icon" title="The Clown: Lowest Score">ü§°</span>'; }
            if (data.results[i].score >= 100) { badges += '<span class="badge-icon" title="Century Club: 100+ Points">üíØ</span>'; }
            
            const lowestPrizeIndex = data.results.findLastIndex(p => p.prize > 0);
            if (lowestPrizeIndex !== -1 && i > lowestPrizeIndex) {
                const prizeCutoff = data.results[lowestPrizeIndex].score;
                if (prizeCutoff - data.results[i].score <= 2) { badges += '<span class="badge-icon" title="Heartbreak: Missed money by <= 2 pts">üïØÔ∏è</span>'; }
            }
            if (data.results[i].prize > 0) {
                 const prevGW = gameData[currentGW - 1];
                 if(prevGW && prevGW.results.length > 0) {
                     const prevResult = prevGW.results.find(p => p.name === playerName);
                     if(prevResult && prevResult.prize > 0) { badges += '<span class="badge-icon" title="Heater: Won in consecutive weeks">üî•</span>'; }
                 }
            }
            return badges;
        }

        function updateBattle() {
            const data = gameData[currentGW] || { results: [], pool: 0, prizes: [], players: [] };
            
            // Spotlight logic
            let story = seasonLore[`GW${currentGW}`];
            if(!story) {
                story = `GW${currentGW} Battle. The journey continues...`;
            }
            const spotlightHTML = `<div class="spotlight-card"><div class="spotlight-title"><span class="spotlight-emoji">üéÆ</span>GW ${currentGW}</div><div class="spotlight-story">${story}</div></div>`;
            document.getElementById('spotlight').innerHTML = spotlightHTML;
            
            document.getElementById('poolAmount').textContent = data.pool || 0;
            document.getElementById('playerCount').textContent = data.players ? data.players.length : 0;
            document.getElementById('currentGW').textContent = currentGW;
            
            if(!data.results || data.results.length === 0) {
                document.getElementById('leaderboard').innerHTML = '<div style="text-align:center; padding:20px; color:#a0aec0;">Data not recorded for this week.</div>';
                document.getElementById('prizeList').innerHTML = '';
                document.getElementById('banter').innerHTML = '';
                return;
            }

            const medals = ['ü•á', 'ü•à', 'ü•â', 'üéñÔ∏è', 'üèÖ'];
            const prizeHTML = data.prizes.map((prize, i) => `
                <div class="prize"><div class="prize-emoji">${medals[i]}</div><div class="prize-amount">‚Çπ${prize}</div></div>
            `).join('');
            document.getElementById('prizeList').innerHTML = prizeHTML;
            
            const prevGW = gameData[currentGW - 1];
            const prevPositions = {};
            if (prevGW && prevGW.results) { prevGW.results.forEach((player, idx) => { prevPositions[player.name] = idx + 1; }); }
            
            const leaderboardHTML = data.results.map((player, i) => {
                const rank = i + 1;
                let rankClass = rank <= 3 ? `rank-${rank}` : (player.prize > 0 ? 'rank-other' : '');
                let rankDisplay = rank <= 5 && player.prize > 0 ? (medals[rank-1] || rank) : rank;
                let trendArrow = '';
                if (prevPositions[player.name]) {
                    const prevRank = prevPositions[player.name];
                    if (prevRank > rank) { trendArrow = '<span class="trend-indicator trend-up">üìà</span>'; }
                    else if (prevRank < rank) { trendArrow = '<span class="trend-indicator trend-down">üìâ</span>'; }
                    else { trendArrow = '<span class="trend-indicator trend-same">‚û°Ô∏è</span>'; }
                }
                const winnerClass = player.prize > 0 ? 'winner' : '';
                const badges = getBadges(player.name, data, prevPositions, i);
                const chipDisplay = player.chip ? ` <span style="background:#48bb78; color:#fff; padding:2px 6px; border-radius:4px; font-size:0.7em;">${player.chip}</span>` : '';
                
                return `
                    <div class="player-row ${winnerClass}">
                        <div class="rank ${rankClass}">${rankDisplay}</div>
                        <div class="player-info">
                            <div class="player-name">${player.name} ${badges} ${trendArrow}</div>
                            <div class="player-captain">‚ö° ${player.captain}${chipDisplay}</div>
                        </div>
                        <div class="score-prize">
                            <div class="score">${player.score}</div>
                            ${player.prize > 0 ? `<div class="prize-won">+‚Çπ${player.prize}</div>` : ''}
                        </div>
                    </div>
                `;
            }).join('');
            document.getElementById('leaderboard').innerHTML = leaderboardHTML;
            updateBanter(currentGW);
        }

        function updateBanter(gw) {
            const data = gameData[gw];
            if (!data || !data.results || data.results.length === 0) return;
            const results = data.results;
            const lowest = results[results.length - 1];
            const nonPrize = results.filter(p => p.prize === 0);
            let bestNonPrize = null;
            if (nonPrize.length > 0) { bestNonPrize = nonPrize.reduce((best, cur) => (cur.score > best.score ? cur : best), nonPrize[0]); }
            let roastText = '';
            let complimentText = '';
            if (lowest) {
                const meta = managerMeta[lowest.name] || {};
                roastText = `${lowest.name}${meta.nick ? ` (${meta.nick})` : ''} managed just ${lowest.score} points.`;
            }
            if (bestNonPrize) {
                const meta = managerMeta[bestNonPrize.name] || {};
                complimentText = `${bestNonPrize.name}${meta.nick ? ` (${meta.nick})` : ''} dropped ${bestNonPrize.score} points but won nothing.`;
            }
            document.getElementById('banter').innerHTML = `<div class="banter-section"><div class="banter-card banter-roast"><div class="banter-title">üî• Roast of the Week</div><div class="banter-text">${roastText}</div></div><div class="banter-card banter-compliment"><div class="banter-title">üíö Clutch with No Cash</div><div class="banter-text">${complimentText}</div></div></div>`;
        }

        function updateStandings() {
            const earnings = {};
            Object.keys(gameData).forEach(gwNum => {
                const gw = gameData[gwNum];
                if (!gw.results) return;
                gw.results.forEach(result => {
                    if ((gw.players && gw.players.includes(result.name)) || result.name) {
                        if (!earnings[result.name]) { earnings[result.name] = { won: 0, played: 0, currentStreak: 0, topStreak: 0 }; }
                        earnings[result.name].played++;
                        if (result.prize > 0) {
                            earnings[result.name].won += result.prize;
                            earnings[result.name].currentStreak++;
                            earnings[result.name].topStreak = Math.max(earnings[result.name].topStreak, earnings[result.name].currentStreak);
                        } else { earnings[result.name].currentStreak = 0; }
                    }
                });
            });
            const standings = Object.entries(earnings).map(([name, data]) => ({ name, net: data.won - data.played * 100, won: data.won, played: data.played, streak: data.currentStreak, topStreak: data.topStreak })).sort((a, b) => b.net - a.net);
            const standingsHTML = standings.map((player, index) => {
                let badges = '';
                if(player.streak >= 2) badges += '<span class="badge-icon">üî•</span>';
                if(index <= 2) badges += '<span class="badge-icon">üí∞</span>';
                return `<div class="standing-card"><div class="standing-player"><div class="standing-name">${player.name}${badges}</div><div class="standing-stats">üéÆ ${player.played} games | üí∞ ‚Çπ${player.played * 100} entry | Winnings: ‚Çπ${player.won}</div></div><div class="standing-earnings"><div class="net-amount ${player.net >= 0 ? 'positive' : 'negative'}">${player.net >= 0 ? '+' : '-'}‚Çπ${Math.abs(player.net)}</div></div></div>`;
            }).join('');
            document.getElementById('standingsList').innerHTML = standingsHTML;
        }

        function updateStats() {
            const playerStats = {};
            Object.values(gameData).forEach(gw => {
                if(!gw.results) return;
                gw.results.forEach((result, index) => {
                    if ((gw.players && gw.players.includes(result.name)) || result.name) {
                        if (!playerStats[result.name]) { playerStats[result.name] = { games: 0, wins: 0, podiums: 0, scores: [], positions: [], earnings: 0, prizeCount: 0, haalandCaps: 0 }; }
                        const stats = playerStats[result.name];
                        stats.games++;
                        stats.scores.push(result.score);
                        stats.positions.push(index + 1);
                        if (result.captain && result.captain.includes("Haaland")) stats.haalandCaps++;
                        if (index === 0) stats.wins++;
                        if (index < 3) stats.podiums++;
                        if (result.prize > 0) {
                            stats.earnings += result.prize;
                            stats.prizeCount++;
                        }
                    }
                });
            });
            
            const storiesHTML = Object.entries(managerMeta)
                .filter(([name]) => playerStats[name] && playerStats[name].games >= 1)
                .sort((a, b) => {
                    const netA = playerStats[a[0]].earnings - playerStats[a[0]].games * 100;
                    const netB = playerStats[b[0]].earnings - playerStats[b[0]].games * 100;
                    return netB - netA;
                })
                .map(([name, meta]) => {
                    const journey = seasonJourneys[name] || { journey: 'A quiet season so far.', signature: 'Unknown' };
                    // Fix: Ensure a fallback if the specific GW story doesn't exist
                    const gwStoryText = (gwStories[currentGW] && gwStories[currentGW][name]) ? gwStories[currentGW][name] : gwStories['default'];
                    const aiQuote = aiQuotes[name] || "No comment.";
                    const stats = playerStats[name];
                    const bestRank = Math.min(...stats.positions);
                    const worstRank = Math.max(...stats.positions);
                    
                    const templatePct = Math.round((stats.haalandCaps / stats.games) * 100);
                    const recentScores = stats.scores.slice(-3);
                    const avgRecent = recentScores.length ? Math.round(recentScores.reduce((a,b)=>a+b,0)/recentScores.length) : 0;
                    const formWidth = Math.min(100, (avgRecent / 100) * 100);
                    const volatility = worstRank - bestRank;
                    const volatilityWidth = Math.min(100, (volatility / 16) * 100);

                    const net = stats.earnings - (stats.games * 100);
                    const pillClass = net >= 0 ? 'in-profit' : 'in-loss';
                    const pillText = net >= 0 ? `+‚Çπ${net}` : `-‚Çπ${Math.abs(net)}`;

                    return `
                        <div class="player-story-card">
                            <div class="archetype-badge">${meta.archetype}</div>
                            <div class="story-header-section">
                                <div class="avatar-container">
                                    <img src="${meta.avatar}" class="avatar-img" alt="${meta.character}">
                                </div>
                                <div class="header-info">
                                    <div class="story-player">${name}</div>
                                    <div class="manager-nick">${meta.character}</div>
                                    <div class="character-ref">"${meta.desc}"</div>
                                    <div class="wallet-pill ${pillClass}">${pillText}</div>
                                </div>
                            </div>
                            
                            <div class="story-content">
                                <div class="story-quote">"${aiQuote}"</div>

                                <div class="scout-report">
                                    <div class="stat-row">
                                        <div class="stat-label">üß† Template %</div>
                                        <div class="stat-track"><div class="stat-val template" style="width: ${templatePct}%"></div></div>
                                        <div class="stat-number">${templatePct}%</div>
                                    </div>
                                    <div class="stat-row">
                                        <div class="stat-label">üî• Form</div>
                                        <div class="stat-track"><div class="stat-val form" style="width: ${formWidth}%"></div></div>
                                        <div class="stat-number">${avgRecent}</div>
                                    </div>
                                    <div class="stat-row">
                                        <div class="stat-label">‚ö° Volatility</div>
                                        <div class="stat-track"><div class="stat-val volatility" style="width: ${volatilityWidth}%"></div></div>
                                        <div class="stat-number">${volatility}</div>
                                    </div>
                                </div>

                                <div class="story-section">
                                    <div class="story-label">‚ö° GW${currentGW} Report</div>
                                    <div class="story-text">"${gwStoryText}"</div>
                                </div>

                                <div class="story-section">
                                    <div class="story-label">üìñ Season Arc</div>
                                    <div class="story-text">"${journey.journey}"</div>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            document.getElementById('playerStories').innerHTML = storiesHTML;
            
            const loreHTML = Object.entries(seasonLore).map(([gw, text]) => {
                return `
                    <div class="lore-entry">
                        <div class="lore-gw">${gw}</div>
                        <div class="lore-text">${text}</div>
                    </div>
                `;
            }).join('');
            document.getElementById('seasonLoreList').innerHTML = loreHTML;
            
            updateRivalries();
             const entries = Object.entries(playerStats);
            if (!entries.length) return;
            const mostWins = [...entries].sort((a, b) => b[1].wins - a[1].wins)[0];
            const peakPerformance = [...entries].map(([name, stats]) => [name, { ...stats, maxScore: Math.max(...stats.scores) }]).sort((a, b) => b[1].maxScore - a[1].maxScore)[0];
            const mostConsistent = [...entries].filter(([_, s]) => s.games >= 5).map(([name, stats]) => { const avg = stats.positions.reduce((a, b) => a + b, 0) / stats.positions.length; const variance = stats.positions.reduce((sum, pos) => sum + Math.pow(pos - avg, 2), 0) / stats.positions.length; return [name, { ...stats, variance }]; }).sort((a, b) => a[1].variance - b[1].variance)[0];
            const prizeMagnet = [...entries].filter(([_, s]) => s.games >= 5).map(([name, stats]) => { const prizeCount = stats.positions.filter(p => p <= 5).length; return [name, { ...stats, prizeCount }]; }).sort((a, b) => b[1].prizeCount - a[1].prizeCount)[0];
            
            const performanceAwards = [
                { title: 'Season Win Leader', emoji: 'üèÖ', desc: 'Most individual gameweek wins so far.', winner: mostWins },
                { title: 'Peak Performance', emoji: '‚õ∞Ô∏è', desc: 'Highest single-gameweek score in the league.', winner: peakPerformance },
                { title: 'Mr. Reliable', emoji: 'üéØ', desc: 'Most consistent positions across all entries.', winner: mostConsistent },
                { title: 'Prize Magnet', emoji: 'üéñÔ∏è', desc: 'Most frequent top-5 appearances.', winner: prizeMagnet }
            ];
            
            const generousDonor = [...entries].filter(([_, s]) => s.earnings === 0 && s.games >= 5).sort((a, b) => b[1].games - a[1].games)[0];
            const resurrection = [...entries].filter(([_, s]) => s.games >= 6).map(([name, stats]) => { const worst = Math.max(...stats.positions); const worstIndex = stats.positions.lastIndexOf(worst); if (worstIndex >= stats.positions.length - 2) { return [name, { ...stats, score: 0 }]; } const afterWorst = stats.positions.slice(worstIndex + 1); const improvement = worst - (afterWorst.reduce((a, b) => a + b, 0) / afterWorst.length); return [name, { ...stats, score: improvement }]; }).sort((a, b) => b[1].score - a[1].score)[0];
            const lateBloomer = [...entries].filter(([_, s]) => s.games >= 5).map(([name, stats]) => { const firstHalf = stats.positions.slice(0, Math.floor(stats.games / 2)); const secondHalf = stats.positions.slice(Math.floor(stats.games / 2)); const improvement = (firstHalf.reduce((a, b) => a + b, 0) / firstHalf.length) - (secondHalf.reduce((a, b) => a + b, 0) / secondHalf.length); return [name, { ...stats, improvement }]; }).sort((a, b) => b[1].improvement - a[1].improvement)[0];
            
            const funAwards = [
                { title: 'Phoenix Rising', emoji: 'üî•', desc: 'Biggest comeback after a disaster week.', winner: resurrection },
                { title: 'Late Bloomer', emoji: 'üå±', desc: 'Started slow, heating up over time.', winner: lateBloomer },
                { title: 'Generous Donor', emoji: 'üí∏', desc: 'Most entries with no winnings so far.', winner: generousDonor }
            ];
            
            const performanceHTML = performanceAwards.filter(a => a.winner && a.winner[1]).map(award => `<div class="award"><div class="award-info"><div class="award-title">${award.emoji} ${award.title}</div><div class="award-desc">${award.desc}</div></div><div class="award-winner">${award.winner[0]}</div></div>`).join('');
            const funHTML = funAwards.filter(a => a.winner && a.winner[1]).map(award => `<div class="award"><div class="award-info"><div class="award-title">${award.emoji} ${award.title}</div><div class="award-desc">${award.desc}</div></div><div class="award-winner">${award.winner[0]}</div></div>`).join('');
            document.getElementById('performanceAwards').innerHTML = performanceHTML;
            document.getElementById('funAwards').innerHTML = funHTML;
        }

        function updateRivalries() {
             function h2h(a, b) {
                let aWins = 0, bWins = 0, ties = 0, meetings = 0;
                Object.values(gameData).forEach(gw => {
                     if (!gw.results || !gw.players.includes(a) || !gw.players.includes(b)) return;
                    const positions = {};
                    gw.results.forEach((res, idx) => positions[res.name] = idx + 1);
                    if (positions[a] && positions[b]) {
                        meetings++;
                        if (positions[a] < positions[b]) aWins++; else if (positions[b] < positions[a]) bWins++; else ties++;
                    }
                });
                return { aWins, bWins, ties, meetings };
            }
             // Using static pairs for now as they are popular, can switch back to dynamic if preferred
            const rv1 = h2h('Raghu', 'Venky');
            const rv2 = h2h('Bharath', 'Gokul');
            let shubsGames = 0, shubsWinnings = 0;
            Object.values(gameData).forEach(gw => {
                if (!gw.results || !gw.players.includes('Shubs')) return;
                const entry = gw.results.find(r => r.name === 'Shubs');
                if (entry) { shubsGames++; shubsWinnings += entry.prize; }
            });
            const rivalryHTML = `
                <div class="rivalry-card"><div class="rivalry-header">Founders Derby: Raghu vs Venky</div><div class="rivalry-names"><span>Raghu</span><span class="rivalry-vs">${rv1.aWins} - ${rv1.bWins}</span><span>Venky</span></div><div class="riv-desc">Raghu leads. The gap widens after GW17.</div></div>
                <div class="rivalry-card"><div class="rivalry-header">Chaos Classico: Bharath vs Gokul</div><div class="rivalry-names"><span>Bharath</span><span class="rivalry-vs">${rv2.aWins} - ${rv2.bWins}</span><span>Gokul</span></div><div class="riv-desc">Bharath takes this round (3rd vs 19th).</div></div>
                <div class="rivalry-card"><div class="rivalry-header">Shubs vs The House</div><div class="rivalry-names"><span>Invested</span><span class="rivalry-vs">‚Çπ${shubsGames*100} vs ‚Çπ${shubsWinnings}</span><span>Won</span></div><div class="riv-desc">Shubs is officially up! The house is losing.</div></div>
            `;
            document.getElementById('rivalries').innerHTML = rivalryHTML;
        }

        initSelector();
        updateBattle();
    </script>
</body>
</html>
